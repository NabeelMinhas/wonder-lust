<%= render 'shared/hero_section', 
    title: 'Create Your Video Project', 
    subtitle: 'Choose from our professional video editing services' %>

<div class="container">
  <div class="row">
    <div class="col-lg-8">
      <h2 class="section-title">Select Video Types</h2>
      <div class="row" id="videoTypesGrid">
        <% @video_types.each do |video_type| %>
          <%= render 'shared/video_type_card', video_type: video_type %>
        <% end %>
      </div>
    </div>
    
    <div class="col-lg-4">
      <div class="cart-summary">
        <h3><i class="fas fa-shopping-cart me-2"></i>Project Summary</h3>
        <div class="mb-3">
          <label class="form-label">Project Name</label>
          <input type="text" class="form-control" id="projectName" placeholder="Enter project name">
        </div>
        <div class="mb-3">
          <label class="form-label">Raw Footage Link</label>
          <input type="url" class="form-control" id="footageLink" placeholder="https://drive.google.com/...">
        </div>
        <div id="cartItems">
          <p class="text-muted">No items selected</p>
        </div>
        <div class="total-amount">
          Total: $<span id="totalAmount">0</span>
        </div>
        <button class="btn btn-accent w-100 mt-3" onclick="openPaymentModal()" disabled id="payButton">
          <i class="fas fa-credit-card me-2"></i>Proceed to Payment
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Payment Modal -->
<div class="modal fade" id="paymentModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">
          <i class="fas fa-credit-card me-2"></i>Payment Details
        </h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <h6>Order Summary</h6>
            <div id="orderSummary" class="mb-3">
              <!-- Order summary will be populated here -->
            </div>
            <div class="total-amount">
              Total: $<span id="modalTotalAmount">0</span>
            </div>
          </div>
          <div class="col-md-6">
            <h6>Payment Information</h6>
            <form id="paymentForm">
              <div class="mb-3">
                <label class="form-label">Card Number</label>
                <input type="text" class="form-control" placeholder="1234 5678 9012 3456" maxlength="19">
              </div>
              <div class="row">
                <div class="col-6">
                  <label class="form-label">Expiry Date</label>
                  <input type="text" class="form-control" placeholder="MM/YY" maxlength="5">
                </div>
                <div class="col-6">
                  <label class="form-label">CVV</label>
                  <input type="text" class="form-control" placeholder="123" maxlength="3">
                </div>
              </div>
              <div class="mb-3">
                <label class="form-label">Cardholder Name</label>
                <input type="text" class="form-control" placeholder="John Doe">
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-accent" onclick="processPayment()">
          <i class="fas fa-lock me-2"></i>Process Payment
        </button>
      </div>
    </div>
  </div>
</div> 